<h1>Carrera OS</h1>

<input id="ip" placeholder="IP" onchange="setIP()" value="http://192.168.26.110"> 

<input id="inputSlider" type="range" min="0" max="10" value="0" oninput="changeInput()">

<button onclick="test()">test</button>

<script>
    var ip=document.getElementById("ip").value;
    function setIP() {
        ip = document.getElementById("ip").value;
    }
    function changeInput() {
        const value = document.getElementById("inputSlider").value;
        httpPutAsync(`${ip}?value=${value}`, null, log);
        // httpGetAsync(`${ip}`, log);
    }

    function httpGetAsync(theUrl, callback) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function() { 
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                callback(xmlHttp.responseText);
        }
        xmlHttp.open("GET", theUrl, true); // true for asynchronous 
        xmlHttp.send(null);
    }

    function httpPutAsync(url, body, callback) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function() { 
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                callback(xmlHttp.responseText);
        }
        xmlHttp.open("PUT", url, true); // true for asynchronous 
        xmlHttp.send(body);
    }

    function log(message) {
        console.log(message);
    }
</script>